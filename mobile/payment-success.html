<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport"
          content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">
    <title></title>
    <link rel="stylesheet" href="styles/normalize.css"/>
    <link rel="stylesheet" href="styles/common.css"/>
    <link rel="stylesheet" href="styles/payment-success.css"/>

    <script src="assets/jquery/jquery-2.1.1.min.js"></script>
</head>
<body>
<div class="tips">
    <div class="tips-content">
        <h1>订单已成功提交</h1>

        <h3>我们将尽快为您送上门</h3>

        <p class="redirect">
            <span class="count-backward"></span>秒后自动跳转到<a class="index" href="/">首页</a>
        </p>
    </div>
</div>

<script>
    (function ($) {
        $(function () {
            var $redirect = $('.redirect'),
                    $countBackward = $('.count-backward'),
                    count = 5,
                    href = $('.index').attr('href');


            function getNewCount(count) {
                return count - 1;
            }

            function update(currentCount, $el) {
                if (currentCount > 0) {
                    setTimeout(function () {
                        var newCount = getNewCount(currentCount);

                        $el.html(newCount);
                        count = newCount;

                        update(newCount, $el);
                    }, 1000);
                } else {
                    setTimeout(function () {
                        window.location.href = href;
                    }, 1000);
                }
            }

            setTimeout(function () {
                $redirect.addClass('show');

                $countBackward.html(count);
                update(count, $countBackward);
            }, 1000);
        });
    }(jQuery));
</script>
</body>
</html>